security:
  password_hashers:
    App\Entity\NewUsersEntity:
      algorithm: auto

    Symfony\Component\Security\Core\User\InMemoryUser:
      algorithm: auto
  providers:
    app_admins_provider:
      memory:
        users:
          john_admin@test.fr: { password: '$2y$13$boSzyMh6lUoTvu9tzPzIAuenKo7ZWPTJXKxLTRf9ymPg1/U9PR83m', roles: ['ROLE_ADMIN'] }
          anny_user@test.fr: { password: '$2y$13$.CE.RlMB4nJo7HI48wOywuAmis/rHxnUzbjizVfU8lyg/P/PxW9aq', roles: ['ROLE_USER'] }
  firewalls:
    dev:
      pattern: ^/(_(profiler|wdt)|css|images|js)/
      security: true

    main:
      # Main firewall
      pattern: ^/
      lazy: true
      provider: app_admins_provider
      logout:
        path: /app_home
      form_login:
        login_path: app_login
        check_path: app_login

    admin:
      # Admin firewall
      pattern: ^/admin
      security: true

  access_control:
     - { path: ^/admin, roles: ROLE_ADMIN }

